<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			//demo 02:
			/*变量i是var声明的，在全局范围内都有效，所以全局只有一个变量i。
			每一次循环，
			变量i的值都会发生改变，而循环内被赋给数组a的function在运行时，会通过闭包读到这同一个变量i，
			导致最后输出的是最后一轮的i的值，也就是10。*/
			/*
			var a = [];
			for(var i = 0; i < 10; i++) {
				a[i] = function() {
					console.log(i);
				};
			}
			a[6](); // 10
			*/

			//如果使用let，声明的变量仅在块级作用域内有效，最后输出的是6。
			/*
			 变量i是let声明的，当前的i只在本轮循环有效，所以每一次循环的i其实都是一个新的变量，所以最后输出的是6。
			 你可能会问，如果每一轮循环的变量i都是重新声明的，那它怎么知道上一轮循环的值，从而计算出本轮循环的值？
			 这是因为 JavaScript 引擎内部会记住上一轮循环的值，初始化本轮的变量i时，就在上一轮循环的基础上进行计算。
			 */
			/*var a = [];
			for(let i = 0; i < 10; i++) {
				a[i] = function() {
					console.log(i);
				};
			}
			a[6](); // 6
			a[2](); // 2*/
		</script>
	</head>

	<body>
	</body>

</html>