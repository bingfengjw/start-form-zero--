<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    // 扩展运算符内部调用的是数据结构的 Iterator 接口，
    // 因此只要具有 Iterator 接口的对象，都可以使用扩展运算符，比如 Map 结构。

    let map = new Map([
      [1, 'one'],
      [2, 'two'],
      [3, 'three'],
    ]);
    let arr = [...map.keys()];
    console.log(arr); // [1, 2, 3]
    // Generator 函数运行后，返回一个遍历器对象，因此也可以使用扩展运算符。

    const go = function* () {
      yield 1;
      yield 2;
      yield 3;
    };
    console.log([...go()]); // [1, 2, 3]
    // 上面代码中，变量go是一个 Generator 函数，执行后返回的是一个遍历器对象，对这个遍历器对象执行扩展运算符，就会将内部遍历得到的值，转为一个数组。

    // 如果对没有 Iterator 接口的对象， 使用扩展运算符， 将会报错。
    const obj = {
      a: 1,
      b: 2
    };
    // let arr = [...obj]; // TypeError: Cannot spread non-iterable object
  </script>
</body>

</html>